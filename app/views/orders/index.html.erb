<div class="orders-header">
	<h1>Need a Wubba one, for fun?</h1>
	<h2> Place an order now!</h2>
</div>
<!-- <input type="text" placeholder="Your name" ng-model="name">
{{ 42 / 6 }} -->
 
<div ng-controller="OrdersCtrl">
	<h3>Orders</h3>
<!-- {{name}} -->
<!-- {{orders}} -->
	<form class="form-inline" ng-submit="addOrder()">
		<strong>Add order: </strong>
		<!-- <input type="hidden" value="{{orders[orders.length - 1].id + 1 }}" ng-model="newOrder.id"> -->
		<select ng-model="newOrder.product_id" class="form-control">
			<option value="" disabled selected>Select a product</option>
			<option ng-repeat="product in products" value="{{product.id}}">{{product.name}}</option>
		</select>
    	<input type="number" class="form-control" placeholder="Total" ng-model="newOrder.total">
    	<!-- <input type="number" class="form-control" ng-model="newOrder.product.id"> -->
    	<input type="submit" value="Add Order" class="btn btn-success">
    		<div ng-show='error'>
    			<p>You're missing something. Please fill in all forms to complete order!</p>
    		</div>
  	</form>


	<table class="table table-hover">
	  <thead>
	    <td>Order ID</td>
	    <td>Total</td>
	    <td>Product</td>
	    <td></td>
	  </thead>
	  <tr ng-repeat="order in orders | orderBy:'-id':reverse">
	  	<td>
	  		{{order.id}}
	  	</td>
	  	<td>
	  		<strong>{{order.total | currency}}</strong>
	  	</td>
	  	<td>
	  		{{order.product.name}}
	  		<small ng-show="order.user_id"><br>-{{order.user.email}}</small>
	  	</td>
	  	<td>
	  		<% if signed_in? && current_user.admin? %>
  				<button ng-click="deleteOrder(order)" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
  			<% end %>
		</td>
	  	<!--later fill up -->
	  </tr>
	</table>
</div>